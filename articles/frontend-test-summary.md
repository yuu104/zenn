---
title: "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã«ãŠã‘ã‚‹è‡ªå‹•ãƒ†ã‚¹ãƒˆã¾ã¨ã‚"
emoji: "ğŸ™†"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Typescript, React, Jest, nextjs, reacttestinglibrary]
published: false
---

## ãƒ†ã‚¹ãƒˆã®ç›®çš„

### äº‹æ¥­ã®ä¿¡é ¼ã®ãŸã‚

- çµŒæ¸ˆçš„ãªå½±éŸ¿ã‚’åŠã¼ã™ãƒã‚°ã‚’å«ã‚ã¦ã—ã¾ã£ãŸå ´åˆã€ä¿¡é ¼ã‚’å–ã‚Šæˆ»ã™ã¾ã§ã®æ´»å‹•ã«é–“æ¥çš„ãªçµŒæ¸ˆå½±éŸ¿ã‚’åŠã¼ã™
- ãƒã‚°ã‚’å«ã‚ã¦ãƒªãƒªãƒ¼ã‚¹ã—ã¦ã—ã¾ã†ã¨ã€ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä½ä¸‹ã—ã¦ã—ã¾ã†

### å¥å…¨ãªã‚³ãƒ¼ãƒ‰ã‚’ç¶­æŒã™ã‚‹ãŸã‚

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè£…ãŒé€²ã‚€ã¨ã€ä¼¼é€šã£ãŸå‡¦ç†ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã™ã‚‹ãªã©ã¨ã„ã£ãŸãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’è¡Œã†
- ã—ã‹ã—ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šå®Ÿè£…æ¸ˆã¿ã®æ©Ÿèƒ½ã«å½±éŸ¿ã‚’åŠã¼ã™å¯èƒ½æ€§ãŒã‚ã‚Šã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’è¦‹é€ã£ã¦ã—ã¾ã†
- ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãç¿’æ…£ãŒã‚ã‚‹ã¨ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®éš›ã«é€ä¸€æ—¢å­˜å®Ÿè£…ãŒå£Šã‚Œã¦ã„ãªã„ã‹ç¢ºèªã§ãã‚‹

### å®Ÿè£…å“è³ªã«è‡ªä¿¡ã‚’æŒã¤ãŸã‚

- ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒæ›¸ãã¥ã‚‰ã„ã¨æ„Ÿã˜ãŸã‚‰ã€ãƒ†ã‚¹ãƒˆå¯¾è±¡ã«å‡¦ç†ã‚’è©°ã‚è¾¼ã¿éãã¦ã„ã‚‹ã‚µã‚¤ãƒ³ã‹ã‚‚
- ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ã§å®Ÿè£…ã—ãŸã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’è¦‹ç›´ã™æ©Ÿä¼šã«ç¹‹ãŒã‚Šã€ã‚ˆã‚Šè‰¯ã„å®Ÿè£…ã¸ã¨å°ã„ã¦ãã‚Œã‚‹

### å††æ»‘ãªã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚

- ãƒãƒ¼ãƒ é–‹ç™ºã«ãŠã„ã¦ã€é–‹ç™ºç”Ÿç”£æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã«ã‚‚å®Ÿè£…ã‚³ãƒ¼ãƒ‰æ„å¤–ã«ç´°ãæƒ…å ±ã‚’æ®‹ã™ã“ã¨ãŒå¤§äº‹
- ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯å˜ç´”ãªãƒ†ã‚­ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚ˆã‚Šã‚‚å„ªã‚ŒãŸè£œè¶³æƒ…å ±
- ãƒ†ã‚¹ãƒˆã«ã¯ 1 ã¤ãšã¤ã‚¿ã‚¤ãƒˆãƒ«ãŒä¸ãˆã‚‰ã‚Œã€ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ãƒ»æŒ¯ã‚‹èˆã„ã‚’æŒã¤ã®ã‹ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
- å®Ÿè£…ã‚³ãƒ¼ãƒ‰ãŒãƒ†ã‚¹ãƒˆã®è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹é™ã‚Šã€è£œè¶³å†…å®¹ã¨å®Ÿè£…å†…å®¹ãŒç•°ãªã‚‹ã“ã¨ã¯ãªã„
- æŠ€è¡“çš„ãªèª¤ã‚ŠãŒãªã„ã‹ã®ç¢ºèªã ã‘ã§ãªãã€è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹ã®ç¢ºèªã‚‚ã§ãã‚‹

### ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’é˜²ããŸã‚

:::details ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã¨ã¯ï¼Ÿ
ã‚ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æ–°ã—ã„æ©Ÿèƒ½è¿½åŠ ã‚„ãƒã‚°ä¿®æ­£ãŒè¡Œã‚ã‚ŒãŸéš›ã«ã€ä»¥å‰æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ãŸæ©Ÿèƒ½ãŒäºˆæœŸã—ãªã„ä¸å…·åˆã‚’ç™ºç”Ÿã™ã‚‹ç¾è±¡ã®ã“ã¨ã€‚
:::

- ç´°ã‹ããƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½“ã®è²¬å‹™ã‚„ãƒ†ã‚¹ãƒˆã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹
- ä¸€æ–¹ã§ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒå£«ã®ä¾å­˜é–¢ä¿‚ãŒç™ºç”Ÿã—ã€ä¾å­˜å…ˆã®å¤‰æ›´ã«ã‚ˆã£ã¦ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒç™ºç”Ÿã—ã‚„ã™ããªã‚‹

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆã®ç¨®é¡ã¨ç¯„å›²

Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã«ã‚ã‚‹æ§˜ã€…ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿè£…ã™ã‚‹ã€‚

1. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæä¾›ã™ã‚‹é–¢æ•°
2. ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ‹…ã†é–¢æ•°
3. UI ã‚’è¡¨ç¾ã™ã‚‹é–¢æ•°
4. Web API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
5. API ã‚µãƒ¼ãƒãƒ¼
6. DB ã‚µãƒ¼ãƒãƒ¼

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆã®è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¨ãã€1ã€œ6 ã®ã†ã¡ã€Œã©ã“ã‹ã‚‰ã©ã“ã¾ã§ã®ç¯„å›²ã‚’ã‚«ãƒãƒ¼ã—ãŸãƒ†ã‚¹ãƒˆã§ã‚ã‚‹ã‹ã€ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
Web ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ãŠã‘ã‚‹ãƒ†ã‚¹ãƒˆã®ç¯„å›²ã¯ä»¥ä¸‹ã® 4 ã¤ã«åˆ†é¡ã•ã‚Œã‚‹ã€‚

### é™çš„è§£æ

- TypeScript ã‚„ ESLint ã«ã‚ˆã‚‹é™çš„è§£æ
- ãƒã‚°ã®æ—©æœŸç™ºè¦‹ã«ã¯æ¬ ã‹ã›ãªã„
- å˜ä¸€ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…éƒ¨æ¤œè¨¼ã ã‘ã§ãªãã€2 ã¨ 3 ã®é–“ã€3 ã¨ 4 ã®é–“ãªã©**éš£æ¥ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“é€£æºã®ä¸æ•´åˆ**ã«å¯¾ã—ã¦æ¤œè¨¼ã™ã‚‹

### å˜ä½“ãƒ†ã‚¹ãƒˆ

- 2 ã®ã¿ã€3 ã®ã¿ã€ã¨ã„ã£ãŸã‚ˆã†ã«**ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½“ãŒæä¾›ã™ã‚‹æ©Ÿèƒ½**ã«ç€ç›®ã—ãŸãƒ†ã‚¹ãƒˆ
- ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã€å®šã‚ã‚‰ã‚ŒãŸå…¥åŠ›å€¤ã‹ã‚‰æœŸå¾…ã™ã‚‹å‡ºåŠ›å€¤ãŒå¾—ã‚‰ã‚Œã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
- ç‹¬ç«‹ã—ãŸæ¤œè¨¼ãŒè¡Œãˆã‚‹ãŸã‚ã€æ»…å¤šã«ç™ºç”Ÿã—ãªã„ã‚±ãƒ¼ã‚¹ï¼ˆã‚³ãƒ¼ãƒŠãƒ¼ã‚±ãƒ¼ã‚¹ï¼‰ã®æ¤œè¨¼ã«å‘ã„ã¦ã„ã‚‹

### çµåˆãƒ†ã‚¹ãƒˆ

- 1ã€œ4 ã¾ã§ã€2ã€œ3 ã¾ã§ã¨ã„ã†ã‚ˆã†ã«**ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã¤ãªã’ã‚‹ã“ã¨ã§æä¾›ã§ãã‚‹æ©Ÿèƒ½**ã«ç€ç›®ã—ãŸãƒ†ã‚¹ãƒˆ
- ç¯„å›²ãŒåºƒã„ã»ã©ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚’åŠ¹ç‡ã‚ˆãã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨ãŒã§ãã‚‹
- ç›¸å¯¾çš„ã«ã–ã£ãã‚Šã¨ã—ãŸæ¤œè¨¼ã«ãªã‚‹å‚¾å‘ãŒã‚ã‚‹

### E2E ãƒ†ã‚¹ãƒˆ

- 1ã€œ6 ã‚’é€šã—ã€ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶+UI ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿæ–½ã™ã‚‹ãƒ†ã‚¹ãƒˆ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã™ã‚‹å ´é¢ã‚’æƒ³å®šã—ã€å®Ÿéš›ã«ã‚·ã‚¹ãƒ†ãƒ ã‚’æ“ä½œã—ã¦ãƒ†ã‚¹ãƒˆã‚’è¡Œã†
- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚’å¯¾è±¡ã«è¡Œã‚ã‚Œã‚‹ãƒ†ã‚¹ãƒˆã§ã‚ã‚‹ãŸã‚ã€è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ã‚·ã‚¹ãƒ†ãƒ é–“ã®ç›¸äº’ä½œç”¨ã‚’å«ã‚€è¤‡é›‘ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’æ‰±ã†ã“ã¨ãŒã§ãã‚‹
- ãã®ãŸã‚ã€ã‚ˆã‚Šæœ¬ç‰©ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«è¿‘ã„ãƒ†ã‚¹ãƒˆãŒå¯èƒ½

## ç›®çš„åˆ¥ã®ãƒ†ã‚¹ãƒˆåˆ†é¡

ãƒ†ã‚¹ãƒˆã¯ç›®çš„ã«ã‚ˆã£ã¦**ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—**ã«åˆ†é¡ã•ã‚Œã‚‹ã€‚
ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã¯æ¤œè¨¼ç›®çš„ã«å¿œã˜ã¦è¨­å®šã•ã‚Œã€ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã”ã¨ã«é©ã—ãŸãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã€‚

### æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆï¼‰

- é–‹ç™ºå¯¾è±¡ã®æ©Ÿèƒ½ã«ä¸å…·åˆãŒãªã„ã‹ã‚’æ¤œè¨¼ã™ã‚‹
- Web ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ãŠã‘ã‚‹é–‹ç™ºå¯¾è±¡æ©Ÿèƒ½ã®å¤§éƒ¨åˆ†ã¯ã€UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ“ä½œï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ãŒèµ·ç‚¹ã«ãªã‚‹ãŸã‚ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆãŒæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãã®ã‚‚ã®ã«ãªã‚‹
- React ãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å®Ÿè£…ã•ã‚ŒãŸ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãŠã„ã¦ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãªã—ã§ã‚‚ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹
  - **ä»®æƒ³ãƒ–ãƒ©ã‚¦ã‚¶**ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚

:::details å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ãªã—ã§ã‚‚å¯èƒ½ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ä¾‹

- ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã™ã‚‹ã¨ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ãŒå‘¼ã°ã‚Œã‚‹
- æ–‡å­—ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€é€ä¿¡ãƒœã‚¿ãƒ³ãŒæ´»æ€§åŒ–ã™ã‚‹
- ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã™ã‚‹ã¨ã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹

![](/images/frontend-test-summary/specific-examples-of-interaction-testing-that-can-be-done-without-a-real-browser.png)

:::

- å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ãŒå¿…è¦ãªæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã¯ã€ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶+UI ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹
- ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã‚’å¿ å®Ÿã«å†ç¾ã™ã‚‹å¿…è¦ã®ã‚ã‚‹æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãŒã‚ã‚‹å ´åˆã«é¸æŠã™ã‚‹

:::details å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ãŒå¿…è¦ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ä¾‹

- æœ€ä¸‹éƒ¨ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨ã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã—ãŸå€¤ãŒå¾©å…ƒã•ã‚Œã‚‹

![](/images/frontend-test-summary/specific-examples-of-interaction-tests-that-require-a-real-browser.png)

:::

### éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆï¼‰

- éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã®ã†ã¡ã€å¿ƒèº«ç‰¹æ€§ã«éš”ã¦ã®ãªã„è£½å“ã‚’æä¾›ã§ãã¦ã„ã‚‹ã‹ã¨ã„ã†æ¤œè¨¼ãŒ**ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**
  - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã«ã‚ˆã‚‹æ“ä½œãŒå……å®Ÿã—ã¦ã„ã‚‹ã‹ï¼Ÿ
  - è¦–èªæ€§ã«å•é¡Œã®ãªã„ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã¨ãªã£ã¦ã„ã‚‹ã‹ï¼Ÿ
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã¯æ¤œè¨¼é …ç›®ã«ã‚ˆã£ã¦é©åˆ‡ãªãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ãŒç•°ãªã‚‹

:::details ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã®ä¾‹

- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¨ã—ã¦ã€ãƒã‚§ãƒƒã‚¯ã§ãã‚‹
- ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¡¨ç¤ºã•ã‚ŒãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼æ–‡è¨€ãŒèª­ã¿ä¸Šã’å¯¾è±¡ã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹
- è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã§ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é•åãŒãªã„ã‹èª¿ã¹ã‚‹

![](/images/frontend-test-summary/accessibility-testing.png)

:::

### ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ

- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤–è¦³ãŒå¤‰åŒ–ã—ã¦ã„ãªã„ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ãƒ†ã‚¹ãƒˆ
- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã«ã€ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã«ä½•ã‚‰ã‹ã®å•é¡ŒãŒç”Ÿã˜ã¦ã„ãªã„ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«è¡Œã†
- ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ã«æç”»ã•ã‚ŒãŸå†…å®¹ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ç”»åƒã‚’æ¯”è¼ƒã™ã‚‹ã“ã¨ã§è¦‹ãŸç›®ã®ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒç™ºç”Ÿã—ã¦ã„ãªã„ã‹ã‚’æ¤œè¨¼ã™ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ä¸ãˆãŸã“ã¨ã«ã‚ˆã‚Šå¤‰åŒ–ã—ãŸ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç”»åƒæ¯”è¼ƒã‚‚å¯èƒ½

:::details ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ä¾‹

- ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒãªã„
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‚’é–‹ã„ãŸçŠ¶æ…‹ã«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒãªã„
- è¡¨ç¤ºã•ã‚ŒãŸç”»é¢ã«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒãªã„

![](/images/frontend-test-summary/visual-regression-test.png)

:::

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ¢ãƒ‡ãƒ«

å„ç¨®ãƒ†ã‚¹ãƒˆã¯ã„ãã¤ã‹ã®å±¤ã«åˆ†é¡ã—ã¦è€ƒãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
![](/images/frontend-test-summary/relationship-between-test-coverage-and-cost.png)

- ä¸Šå±¤ã®ãƒ†ã‚¹ãƒˆã¯å¿ å®Ÿæ€§ã®é«˜ã„ãƒ†ã‚¹ãƒˆï¼ˆæœ¬ç‰©ã«è¿‘ã„ãƒ†ã‚¹ãƒˆï¼‰ã«ãªã‚‹
- ä¸Šå±¤ã®ãƒ†ã‚¹ãƒˆã¯å®Ÿè¡Œã™ã‚‹ã«ã‚ãŸã‚Šæœ¬ç‰©ã«è¿‘ã„ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’æƒãˆã‚‹å¿…è¦ãŒã‚ã‚‹
  - ãƒ†ã‚¹ãƒˆç”¨ã«ç”¨æ„ã—ãŸ DB ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ãªã©
- ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªã‚³ã‚¹ãƒˆã¯é–‹ç™ºã«ä¸ãˆã‚‹å½±éŸ¿ãŒå¤§ããã€é–‹ç™ºè€…é–“ã§ååˆ†ã«æ¤œè¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- **ã‚³ã‚¹ãƒˆé…åˆ†ã‚’ã©ã®ã‚ˆã†ã«è¨­è¨ˆã—ã¦æœ€é©åŒ–ã‚’è¡Œã†ã‹**ãŒã€ãƒ†ã‚¹ãƒˆæˆ¦ç•¥æœ€å¤§ã®æ¤œè¨äº‹é …ã¨ãªã‚‹

### ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã‚³ãƒ¼ãƒ³å‹

![](/images/frontend-test-summary/ice-cream-cone.png)

- ä¸Šå±¤ã®ãƒ†ã‚¹ãƒˆãŒå¤šã„ãƒ¢ãƒ‡ãƒ«
- æˆ¦ç•¥ãƒ¢ãƒ‡ãƒ«ã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³
- é‹ç”¨ã‚³ã‚¹ãƒˆãŒé«˜ãã€ç¨€ã«å¤±æ•—ã™ã‚‹ä¸å®‰å®šãªãƒ†ã‚¹ãƒˆãŒã‚ˆã‚Šå¤šãã®ã‚³ã‚¹ãƒˆã‚’å¿…è¦ã¨ã™ã‚‹
- ã‚³ã‚¹ãƒˆãŒé«˜ããªã‚‹ã¨ã€è‡ªå‹•ãƒ†ã‚¹ãƒˆã«ã‚ˆã£ã¦é–‹ç™ºä½“é¨“ãŒè‘—ã—ãä½ä¸‹ã™ã‚‹ã¨ã„ã†æœ¬æœ«è»¢å€’ãªæ‚ªå½±éŸ¿ãŒç”Ÿã˜ã‚‹

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰å‹

![](/images/frontend-test-summary/test-pyramid.png)

- ä¸‹å±¤ã®ãƒ†ã‚¹ãƒˆãŒå¤šã„ãƒ¢ãƒ‡ãƒ«
- å®‰å®šã—ãŸè²»ç”¨å¯¾åŠ¹æœã®é«˜ã„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã«ãªã‚‹

### ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒˆãƒ­ãƒ•ã‚£ãƒ¼å‹

![](/images/frontend-test-summary/testing-trophy.png)

- ã€ŒTestingLibraryã€ã®é–‹ç™ºè€…ã€KentC.Dodds.æ°ãŒæå”±ã™ã‚‹ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ¢ãƒ‡ãƒ«
- æœ€ã‚‚æ¯”é‡ã‚’ç½®ãã¹ããªã®ã¯**çµåˆãƒ†ã‚¹ãƒˆ**ã§ã‚ã‚‹ã¨ã„ã†ä¸»æ—¨

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒæä¾›ã™ã‚‹æ©Ÿèƒ½ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ã‚’èµ·ç‚¹ã«æä¾›ã•ã‚Œã‚‹ã€‚
ãã®ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’èµ·ç‚¹ã¨ã—ãŸçµåˆãƒ†ã‚¹ãƒˆã‚’å……å®Ÿã•ã›ã‚‹ã“ã¨ã“ããŒã€ã‚ˆã‚Šè‰¯ã„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã«ãªã‚‹ã¨ã„ã†æ„å›³ãŒã‚ã‚‹ã€‚

## å˜ä½“ãƒ†ã‚¹ãƒˆ

ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ã€ŒJestã€ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

### Jest ã‚’ä½¿ã£ãŸç°¡å˜ãªãƒ†ã‚¹ãƒˆ

```ts:src/03/02/index.ts
export function add(a: number, b: number) {
  return a + b;
}
add(1, 2);
```

ä¸Šè¨˜ã®é–¢æ•°ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã€‚
1 ã¨ 2 ã®å’ŒãŒã€ï¼“ã§ã‚ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã—ã¦ã„ã‚‹ã€‚

```ts:src/03/02/index.test.ts
import { add } from "./";

test("add: 1 + 2 ã¯ã€€3", () => {
  expect(add(1, 2)).toBe(3);
});
```

ãƒ†ã‚¹ãƒˆã¯å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã¯åˆ¥ã®ã€Œãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€ã«è¨˜è¿°ã—ã€ãƒ†ã‚¹ãƒˆå¯¾è±¡ï¼ˆ`add`é–¢æ•°ï¼‰ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚

- å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ï¼š`src/03/02/index.ts`
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼š`src/03/02/index.test.ts`

ä¸Šè¨˜ã¯ã€Œå®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«åç§°.tsã€ã«å¯¾ã—ã€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Œå®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«åç§°.test.tsã€ã¨ã„ã†å‘½åè¦å‰‡ã§ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã„ã‚‹ã€‚
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®å ´æ‰€ã¯ã€å¿…ãšå®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã®éš£ã«ç½®ã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ã‚ã‘ã§ã¯ãªãã€ãƒ«ãƒ¼ãƒˆã«`__test__`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç”¨æ„ã—ã€ãã®ä¸­ã«é…ç½®ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ãƒ¡ã‚¸ãƒ£ãƒ¼ã€‚

### ãƒ†ã‚¹ãƒˆã®æ§‹æˆè¦ç´ 

1 ã¤ã®ãƒ†ã‚¹ãƒˆã¯ã€Jest ãŒæä¾›ã™ã‚‹ API ã®`test`é–¢æ•°ã§å®šç¾©ã™ã‚‹ã€‚
`test`é–¢æ•°ã¯ã€2 ã¤ã®å¼•æ•°ã«ã‚ˆã£ã¦æ§‹æˆã•ã‚Œã‚‹ã€‚

```ts
test(ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒˆãƒ«, ãƒ†ã‚¹ãƒˆé–¢æ•°);
```

ç¬¬ä¸€å¼•æ•°ã§ã‚ã‚‹ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã¯ã€ãƒ†ã‚¹ãƒˆã®å†…å®¹ã‚’ç°¡å˜ã«è¡¨ã™ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä¸ãˆã‚‹ã€‚

```ts
test("1 + 2 ã¯ 3");
```

ç¬¬äºŒå¼•æ•°ã§ã‚ã‚‹ãƒ†ã‚¹ãƒˆé–¢æ•°ã«ã¯ã€Œ**ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³**ã€ã‚’æ›¸ãã€‚
ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ã€Œæ¤œè¨¼å€¤ãŒæœŸå¾…é€šã‚Šã§ã‚ã‚‹ã€ã¨ã„ã†æ¤œè¨¼ã‚’è¡Œã†æ–‡ã€‚

```ts
test("1 + 2 ã¯ 3", () => {
  expext(æ¤œè¨¼å€¤).toBe(æœŸå¾…å€¤);
});
```

ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã¯`expext`é–¢æ•°ã«ç¶šã‘ã¦è¨˜è¿°ã™ã‚‹ã€Œ**ãƒãƒƒãƒãƒ£ãƒ¼**ã€ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã€‚
ãƒãƒƒãƒãƒ£ãƒ¼ã¯ Jest ã‹ã‚‰æ¨™æº–ã§ã€æ§˜ã€…ãªç¨®é¡ã®ã‚‚ã®ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã€‚
https://jestjs.io/ja/docs/expect#matchers

- ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼š`expect(æ¤œè¨¼å€¤).toBe(æœŸå¾…å€¤)`
- ãƒãƒƒãƒãƒ£ãƒ¼ï¼š`toBe(æœŸå¾…å€¤)`

`toBe`ãƒãƒƒãƒãƒ£ãƒ¼ã¯æ¤œè¨¼å€¤ã¨æœŸå¾…å€¤ã‚’æ¯”è¼ƒã—ã¦ç­‰ã•ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
å˜ç´”ãªãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å€¤ï¼ˆæ•°å€¤ã€æ–‡å­—åˆ—ã€çœŸå½å€¤ãªã©ï¼‰ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é…åˆ—ãªã©ã®å‚ç…§å‹ã«å¯¾ã—ã¦ä½¿ç”¨ã§ãã‚‹ã€‚

### ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ

é–¢é€£ã™ã‚‹è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ãŸã„å ´åˆã€`describe`é–¢æ•°ãŒåˆ©ç”¨ã§ãã‚‹ã€‚
`add`é–¢æ•°ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ãŸã„å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã€‚
`test`é–¢æ•°ã¨åŒã˜ã‚ˆã†ã«ã€`describe(ã‚°ãƒ«ãƒ¼ãƒ—ã‚¿ã‚¤ãƒˆãƒ«, ã‚°ãƒ«ãƒ¼ãƒ—é–¢æ•°)`ã® 2 ã¤ã®å¼•æ•°ã«ã‚ˆã£ã¦æ§‹æˆã•ã‚Œã‚‹ã€‚

```ts:index.test.ts
describe("add", () => {
  test("1 + 1 ã¯ 2", () => {
    expect(add(1, 1)).toBe(2);
  });

  test("1 + 2 ã¯ 3", () => {
    expect(add(1, 2).toBe(3));
  });
});
```

`descripbe`é–¢æ•°ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒã‚¹ãƒˆã•ã›ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚

```ts:index.ts
export function add(a: number, b: number) {
  return a + b;
}

export function sub(a: number, b: number) {
  return a - b;
}
```

```ts:index.test.ts
describe("å››å‰‡æ¼”ç®—", () => {
  describe("add", () => {
    test("1 + 1 ã¯ 2", () => {
      expect(add(1, 1)).toBe(2);
    });

    test("1 + 2 ã¯ 3", () => {
      expect(add(1, 2)).toBe(3);
    });
  });

  describe("sub", () => {
    test("1 - 1 ã¯ 0", () => {
      expect(sub(1, 1)).toBe(0);
    });

    test("2 - 1 ã¯ 1", () => {
      expect(sub(2, 1)).toBe(1);
    });
  });
});
```

### ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•

#### CLI ã‹ã‚‰å®Ÿè¡Œã™ã‚‹æ–¹æ³•

`package.json`ã«ä»¥ä¸‹ã® npm script ã‚’è¿½åŠ ã™ã‚‹ã€‚

```json:package.json
{
  "scripts": {
    "test": "jest"
  }
}
```

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã—ã€å…¨ã¦å®Ÿè¡Œã™ã‚‹ã€‚

```bash
$ npm test
```

ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã¨ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚

```bash
$ npm test 'src/example.test.ts'
```

#### Jest Runner ã‹ã‚‰å®Ÿè¡Œã™ã‚‹æ–¹æ³•

VSCode ã®æ‹¡å¼µæ©Ÿèƒ½ã§ã‚ã‚‹ã€ŒJest Runnerã€ã‚’åˆ©ç”¨ã™ã‚‹ã¨ã€ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰‹å‹•å…¥åŠ›ã›ãšã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã€‚
https://marketplace.visualstudio.com/items?itemName=firsttris.vscodejestrunner
![Jest Runnerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‰å¾Œã®æ¯”è¼ƒ](/images/frontend-test-summary/jest-runner.png)
ãƒ†ã‚¹ãƒˆãƒ»ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã®å·¦ä¸Šã«ã€ŒRun | Debugã€ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆãŒç¾ã‚Œã‚‹ã€‚
ã€ŒRunã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã§ã€å¯¾è±¡ã®ãƒ†ã‚¹ãƒˆãƒ»ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ãŒ VSCode ä¸Šã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã•ã‚Œã‚‹ã€‚

#### å®Ÿè¡Œçµæœã®è¦‹æ–¹

ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«è¦‹ã¤ã‹ã£ãŸå¯¾è±¡ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡ŒçµæœãŒä¸€è¡Œãšã¤è¡¨ç¤ºã•ã‚Œã‚‹ã€‚
è¡Œé ­ã«ã€ŒPASSã€ã¨è¨˜ã•ã‚Œã¦ã„ã‚‹ã®ã¯æˆåŠŸã—ãŸãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€‚

```bash
PASS src/03/06/index.test.ts
PASS src/03/07/index.test.ts
PASS src/03/08/index.test.ts
PASS src/03/09/index.test.ts
```

#### ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã—ãŸå ´åˆ

ä¸€é€šã‚Šãƒ†ã‚¹ãƒˆãŒå®Œäº†ã™ã‚‹ã¨ã€çµæœæ¦‚è¦ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚
ä¸‹è¨˜ã¯ 29 ä»¶ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆTest Suitesï¼‰ãŒè¦‹ã¤ã‹ã‚Šã€126 ä»¶ä¸­ 122 ä»¶ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸï¼ˆ4 ä»¶ã¯ã‚¹ã‚­ãƒƒãƒ— â‰’ ä¿ç•™ï¼‰ã—ãŸæ—¨ãŒè¨˜ã•ã‚Œã¦ã„ã‚‹ã€‚

```bash
TEST Suites: 29 passed, 29 total
Tests:       4 skipped, 122 passed, 126 total
Snapshots:   9 passed, 9 total
Time:        11.205 s
Ran all test suites.
```

#### ãƒ†ã‚¹ãƒˆãŒä¸€éƒ¨å¤±æ•—ã—ãŸå ´åˆ

```ts:src/03/02/index.test.ts
test("1 + 1 ã¯ 3", () => {
  expect(add(1, 1)).toBe(3);
});
```

ä¸Šè¨˜ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã®è¡Œé ­ã«èµ¤å­—ã§ã€ŒFAILã€ã¨è¨˜ã•ã‚Œã‚‹ã€‚

```bash
FAIL src/03/02/index.test.ts
```

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯ã€ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸç®‡æ‰€ã‚„å¤±æ•—ã—ãŸç†ç”±ã«ã¤ã„ã¦è©³ç´°ãªå ±å‘ŠãŒè¨˜ã•ã‚Œã¦ã„ã‚‹ã€‚

```bash
FAIL src/03/02/index.test.ts
âš«ï¸å››å‰‡æ¼”ç®— > add > 1 + 1 ã¯ 3

  expect(received).toBe(expected) // Object.is equality

  Expected: 3
  Received: 2

  4 |   describe("add", () => {
  5 |     test("1 + 1 ã¯ 3", () => {
> 6 |       expect(add(1, 1)).toBe(3);
    |                         ^
  7 |     });
  8 |     test("1 + 2 ã¯ 3", () => {
  9 |       expect(add(1, 2)).toBe(3);

  at Object.<anonymous> (src/03/02/index.test.ts:6:25)
```

çµæœæ¦‚è¦ã‚’ç¢ºèªã™ã‚‹ã¨ã€1 ä»¶ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚

```bash
TEST Suites: 1 failed 28 passed, 29 total
Tests:       1 failed 4 skipped, 121 passed, 126 total
Snapshots:   9 passed, 9 total
Time:        9.587 s
```

### ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹å®Ÿè£…

`add`é–¢æ•°ã«ã€Œå¼•æ•° aã€b ã¯ 0ã€œ100 ã®æ•°å€¤ã—ã‹å—ã‘ä»˜ã‘ãªã„ã€ã¨ã„ã†ä»•æ§˜ã‚’è¿½åŠ ã™ã‚‹ã€‚

```ts:index.ts
export function add(a: number, b: number) {
  if (a < 0 || a > 100) {
    throw new Error("å…¥åŠ›å€¤ã¯0ã€œ100ã®é–“ã§å…¥åŠ›ã—ã¦ãã ã•ã„");
  }
  if (b < 0 || b > 100) {
    throw new Error("å…¥åŠ›å€¤ã¯0ã€œ100ã®é–“ã§å…¥åŠ›ã—ã¦ãã ã•ã„");
  }

  return a + b;
}
```

ã“ã®é–¢æ•°ãŒä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã€‚
æœŸå¾…ã™ã‚‹æŒ™å‹•ã¯ã€Œç¯„å›²å¤–ã®å€¤ã‚’ä¸ãˆãŸå ´åˆã€ä¾‹å¤–ãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹ã“ã¨ã€ã§ã‚ã‚‹ã€‚
ä¾‹å¤–ç™ºç”Ÿã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆã€`expect`ã®å¼•æ•°ã¯å€¤ã§ã¯ãªãã€Œä¾‹å¤–ç™ºç”ŸãŒæƒ³å®šã•ã‚Œã‚‹é–¢æ•°ã€ã‚’æŒ‡å®šã™ã‚‹ã€‚
ãƒãƒƒãƒãƒ£ãƒ¼ã«ã¯`toThrow`ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

```ts
expect(ä¾‹å¤–ã‚¹ãƒ­ãƒ¼ãŒæƒ³å®šã•ã‚Œã‚‹é–¢æ•°).toThrow();
```

ã€Œä¾‹å¤–ã‚¹ãƒ­ãƒ¼ãŒæƒ³å®šã•ã‚Œã‚‹é–¢æ•°ã€ã¯ã‚¢ãƒ­ãƒ¼é–¢æ•°å¼ã§ãƒ©ãƒƒãƒ—ã—ã¦æŒ‡å®šã™ã‚‹ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ã€Œä¾‹å¤–ãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹ã“ã¨ã€ã‚’æ¤œè¨¼ã§ãã‚‹ã€‚

```ts
// æ­£ã—ããªã„æ›¸ãæ–¹
expext(add(-10, 110)).toThrow();

// æ­£ã—ã„æ›¸ãæ–¹
expect(() => add(-10, 110)).toThrow();
```

ä¾‹å¤–ãŒç™ºç”Ÿã—ãªã„æ¡ä»¶ã§ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã¨å¤±æ•—ã™ã‚‹ã€‚

```ts
expect(() => add(70, 80)).toThrow();
```

```bash
expect(received).toThrow()

Received function did not throw

  4 |
  5 |    test("ä¾‹å¤–ãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œãªã„ãŸã‚å¤±æ•—ã™ã‚‹", () => {
> 6 |      expect(() => add(70, 80)).toThrow();
    |                                ^
  7 |    });
  8 |
```
